---
layout: post
title: js笔记
date: 2020-05-28 
---

## js 的while 参数一定是要有条件的循环，比如设定布尔值，以下面的例子
```js
var guess = false;
while (guess == false) {
	guess = prompt("请输入来者姓名:");
	if (guess == "某") {
        guess = true;
		alert("welcome!");
    } else  {
        alert("输入错误！请重新输入");
        guess = false;
    }   
} 
```
`guess = false` 即一个布尔值，prompt命令把用户输入的内容赋予guess，直到`guess = true`时，while循环结束，if else 下每个命令都要写上guess是true 还是false。如果不写guess = false 就默认结束了。

## for 循环
```js
var p = [60,50,60,58,53,50,46,35,57,68,23,46,39,62,68];
var output;
var highp = 0;           //要找出最大数 设最大数的变量为high 默认为0

for (var i = 0; i < p.length; i = i + 1) {
  output = "排号数为" + i + 
  "其值为" + p[i];
  console.log(output);
  if (p[i] > highp) {        // 如果这个数大于目前最大的数，就将其设置为最大的数
    highp = p[i];
  }
}
var best = [];             // 存放最大数的序号数组 此数组为空数组
for (var i = 0; i < p.length; i++) { // 单独写出for语句 以便输出最大数的序号
  if (p[i] == highp) {              // 如果这个数和最大数相等，那么将这个序号推送到最大序号数组，也就是上边创建的空数组
    best.push(i);                //  push是函数命令 相当于best(i) 
  }
}
console.log("数量:" + p.length);     //数量
console.log("最大数为:" + highp);    // 输出最大数
console.log("最大数的序号：" + best); // 序号是从左数 0,1,2......
```
for循环使用更多，上面的命令输出在控制台，按列输出。下面是重构后的代码,输出效果和上面一样，定义了函数。
```js
var p = [60,50,60,58,53,50,46,35,57,68,23,46,39,62,68];
function printh(p) {
var output;
var highp = 0;
for (var i = 0; i < p.length; i++) {
  output = "序号" + i + " " + 
  "其值为" + p[i];
  console.log(output);
  if (p[i] > highp) {
    highp = p[i];
    
  }
  
} return highp;
}
function getbest(p,highp) {
  var best = [];
  for (var i = 0; i < p.length; i++) {
  if (p[i] == highp) {
    best.push(i);
  } 
} return best;
} 
var highp = printh(p);
console.log("测试次数：" + p.length);
console.log("最高得分：" + highp);
var best = getbest(p,highp);
console.log("最高得分序号：" + best);
```
## 函数及命令含义
```js
while  // 循环函数
if else  //条件函数 如果。。。否则
alert  //弹窗命令
prompt // 将用户输入的内容赋予它前边的值
var   //声明变量命令
Math.random() //随机生成数字命令 0到1 不包括1，但包括0
Math.floor()  //去掉小数点后边的值  如 Math.floor(Math.random() * 5); M 必须大写
```
function 是声明函数，如
```js
function abc (d,e) {   // 这个参数属于形参  相当于变量
    if (d>3) {    
        alert("hi" + e)
    }else {
        alert(e + 1)
    }
}
abc(5,f);
abc(2,g);
abc(8,h);    // 后边的参数称为实参  传递给abc (d,e) 的值  
```
d e 都是变量，相对于下面的相应的数字。abc是定义的函数名。

## return 语句函数返回过程
```js
function a(b) {
  var c;
  if (b < 0) {
    return 0;

  }else {
    c = b + 1;
    return c;
  }
}
var d = 2;
var e = a(d);
console.log(e);
```
1. 声明变量d，并赋予其值为2
2. 最上边声明函数a，下面函数a的参数赋予为d
3. 将实参d传递给形参b
4. 声明变量c 然后检查形参b的条件符合还是不符合，小于0返回0，否则执行else
5. 返回c 其c等于b+1 计算其值
6. 下面的变量e得到其值，并在控制台输出其值
7. return 语句返回时，函数将停止执行  

变量分为局部变量和全局变量。在函数内声明的属于局部变量，反之则是全局的。用var 声明的变量。如果局部变量和全局变量名相同，那么会发生局部变量覆盖住全局变量 修改局部变量并不会影响全局变量，它们是相互独立的。

## 数组
自动生成句子代码
```js
function makeword() {
  var kaitou = ["哎呦！","嗨！","哈哈！"];     //定义数组变量
  var zhongjian = ["你真","你是","好吧"];
  var mowei = ["不错！","可以！","厉害！"];

  var juzi1 = Math.floor(Math.random() * kaitou.length);     // 定义好每个部分的随机数  kaitou.length为数组的属性 即数量
  var juzi2 = Math.floor(Math.random() * zhongjian.length);
  var juzi3 = Math.floor(Math.random() * mowei.length);

  var wanzheng = kaitou[juzi1] + " " + zhongjian[juzi2] +  mowei[juzi3]  // 完整句子的连接  每个数组的索引相加
  alert(wanzheng);            // 显示句子
}
makeword();     // 千万不要忘了写定义的函数  在函数体外
```
## 后递增运算符
`x = x + 1 ` 其后递增运算符表示为`x++` 比上个数加1  反之 `x--` 就是比上个数小1，后递增运算符在for语句中经常用到，比如
```JS
for (x = 0,x < 10,x++) {
  // 代码体
}
```
## 对象
如我想买台电脑，要求是价格大于4000和生产年份在2018年之前的都不要，以下是代码
```js
var pc = {       // 创建对象pc 
  ram : "16g",
  cpu : "intel",
  hard : "500g",
  display : "intel",
  year : 2020,
  color : "black",
  price : 5000     // 最后一个属性不需要加逗号
};
function a(b) {      //创建函数a 形参b将被实参pc赋予值 b即是pc的副本
  if (b.price > 4000) {    // b.price 是引用对象pc的price属性 是引用的副本  如果大于4000 将返回false
    return false;
  } else if (b.year < 2018) {  // 如果小于2018 将返回false  和上边的if语句并行的，条件符合将返回false
    return false;
  }
  return true;    // 否则都返回true 
}
var c = a(pc);  // a函数的计算后的实参值赋予给变量c
if (c) {
  console.log("buy it!")   // 如果c值是true 将输出buy it  否则don't buy
}else {
  console.log("don't buy!")
}
```
对象内加入方法，也就是函数，如下
```js
var pc = {
  ram : "16g",
  cpu : "intel",
  hard : "500g",
  display : "intel",
  year : 2020,
  color : "black",
  price : 5000,
  started: false,
  start: function() {    //设定开机的方法（函数）
    this.started = true; //this.started 是指定pc.started的意思
  },
  stop: function() {    //设定关机的方法
    this.started = false; // 与上同理
  },
  drive: function() {  //运行的方法
    if (this.started) {    //如果确认已经开机则运行
      alert("电脑开始运行！");
    }else {           // 否则提示请先开机
      alert("请先开启电脑！")
    }
  }
};
pc.drive(); //动作步骤 这里设置先试着运行，然后提示开机，然后正式运行，最后关机。
pc.start();
pc.drive();
pc.stop();
```

## 与网页交互
```html
<!doctype html> 
<html lang="en"> 
<head>
<meta charset="utf-8"> 
<title>testweb</title> 
<style>
	.redtext { color: red; }     <!--定义css属性值为redtext文字颜色为红色-->
</style>
</head>
<body>
<h1>h1标题</h1>
<p id="a">All is well</p> 
<script>
function init() {      <!--设定函数init-->
	var d = document.getElementById("a"); <!--获取id值为a的元素，并将值赋给变量d-->
	d.innerHTML = "ee";             <!--修改这个元素的内容-->
	d.setAttribute("class", "redtext");  <!--设定了这个元素的特性名和其值-->
}
window.onload = init;      <!--网页加载完毕后调用函数init，不要在init后加括号，因为只是将函数的值赋给onload，并不是调用它的函数-->
</script>
</body>
</html>
```
网页加载后调用函数init，其结果就是修改了id为a的段落属性，这里设置了内容和颜色。
> 背景知识
1. `<div id="menu">  ....</div>` 给div这个元素指定了一个独一无二的id--menu
2. div#menu {          div#menu 是一个id选择器 选择id为menu的div元素 
  background-color: #xxxx  
}
3. var mymenu = document.getElementById("menu") js里使用这个命令访问元素
4. 使用类访问元素
<p class="a">abc<p>
<p class="a">cef<p> 这两个元素都属于一个类--a，类像编组，可以把多个相同的类加入一个组